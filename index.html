<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
    href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Inter:wght@300;500;900&display=swap"
    rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles.css">
    <title>Batabit - Demo</title>
</head>
<body>
    
    <script>
        const apiKey = '208f79f2-3d3e-4bf5-b043-378e719110a4'; // Mi clave API';
        const url = 'https://rest.coinapi.io/v1/assets'//endpoints de la api
    
        async function obtenerPrecios() {
            try {
                const response = await fetch(url, {
                    headers: { 'X-CoinAPI-Key': apiKey }
                });
    
                if (!response.ok) {
                    throw new Error(`Error: ${response.status}`);
                }
    
                const data = await response.json();

                // Mostrar el primer elemento en la consola para inspeccionar las propiedades disponibles
            console.log(data[0]); // Verifico la estructura de los datos
    
                const tablaMonedas = document.querySelector('.currency-table--container table');
                tablaMonedas.innerHTML = `
                    <tr>
                        <th>Moneda</th>
                        <th>Precio</th>
                        <th>Comisión</th>
                    </tr>
                `;
    
                // Iterar sobre los datos y verificar que price_usd no sea undefined
                data.slice(0, 4).forEach(moneda => {
                    console.log(moneda); // Muestra cada moneda para ver sus propiedades
                    
                    const precio = moneda.price_usd ? moneda.price_usd.toFixed(2) : 'No disponible';
                   
                    // Intenta obtener una propiedad de comisiones, muestra en la consola si existe
                console.log('Comisión:', moneda.fee_percent); 
                    
                    const comision = moneda.fee_percent ? moneda.fee_percent.toFixed(2) + '%' : 'No disponible'; // Suponiendo que la comisión está en fee_percent
                
                    
                    const fila = `
                        <tr>
                            <td class="table__top-left">${moneda.name}</td>
                            <td class="table__right">$${precio}</td>
                            <td class="table__right">${comision}</td>
                        </tr>
                    `;
                    tablaMonedas.innerHTML += fila;
                });
            } catch (error) {
                console.error('Error obteniendo los datos:', error);
            }
        }
    
        window.onload = obtenerPrecios;
    </script>
    



    
    <header>
      <img src="./assets/imgs/logo.svg" alt="Logo de Batabit">
      <div class="header--title-container">
          <h1>La próxima revolución en el intercambio de criptomonedas</h1>
          <p>Batabit te ayuda a navegar entre los diferentes precios y tendencias.</p>
          <a href="/" class="header--button">Conoce Nuestros Planes <span></span></a>
      </div>  
    </header>
    <main>
        <section class="main-exchange-container">
            <div class="backgroundImg"></div>
            <div class="main-exchange-container--title">
                <h2>Visibilizamos todas las tasas de cambio.</h2>
                <p>Traemos información en tiempo real de las casas de cambio y las monedas más importantes del mundo.</p>
            </div>
        </section>
        <section class="main-table-container">
            <div class="main-currency-table">
                <p class="currency-table--title">Monedas:</p>  
                <div class="currency-table--container">
                    <table>
                        <tr>
                            <td class="table__top-left">Bitcoin</td>
                            <td class="table__top-right table__right">$1.96<span class="down"></span></td>
                        </tr>
                        <tr>
                            <td class="table__top-left">Ethereum</td>
                            <td class="table__right">$0.07</td>
                        </tr>
                        <tr>
                            <td class="table__top-left">Ripple</td>
                            <td class="table__right">$2.15</td>
                        </tr>
                        <tr>
                            <td class="table__bottom-left">Stellar</td>
                            <td class="table__bottom-right table__right">$4.96</td>
                        </tr>
                    </table>
                </div> 
                
                <div class="currency-table--date">
                    <p><b>Actualizado:</b>19 Julio 23:45 </p>
                </div>
            </div>
        </section>
        <section class="main-product-detail">
            <span class="product-detail--batata-logo"></span>
            <div class="product-detail--title">
                <h2>Creamos un producto sin comparación.</h2>
                <p>Confiable y diseñado para su uso diario.</p>
            </div>

         <section class="products-cards-container">
             <article class="product-detail--card">
                 <img src="./assets/icons/clock.svg" alt="clock">
                 <p class="product--card-title">Tiempo real</p>
                 <p class="product--card-body">Nuestra API toma información minuto a minuto sobre las tasas que más determinan el comportamiento.</p>
             </article>
             <article class="product-detail--card">
                <img src="./assets/icons/eye.svg" alt="eye">
                <p class="product--card-title">No hay tasas escondidas</p>
                <p class="product--card-body">Ni en la compra o al momento de exit, Batabit siempre te muestra el costo real de lo que estás adquiriendo.</p>
            </article>
            <article class="product-detail--card">
                <img src="./assets/icons/dollar-sign.svg" alt="dollar">
                <p class="product--card-title">Compare monedas</p>
                <p class="product--card-body">No más rumores, con Babtabit sabrás el valor real de cada moneda en el mercado actual.</p>
            </article>
            <article class="product-detail--card">
                <img src="./assets/icons/check-circle.svg" alt="check">
                <p class="product--card-title">Información confiable</p>
                <p class="product--card-body">Nuestras fuentes están 100% verificadas y continuamos auditando su contenido mientras se actualizan.</p>
            </article>
         </section> 
        </section>

        <section class="bitcoin-img-container">
            <h2>Conócelo hoy</h2>
        </section>

        <section></section>
        <footer></footer>
    </main>
</body>


</body>




</html>